import React from "react";
import PropTypes from 'prop-types';
import Select from "../../../../../components/common/atoms/Select/Select";

import './style.scss';
import Button from "../../../../../components/common/atoms/Button";

const options = [{"code":"CH","units":["CH010L1","CH001L2","CH006L1","CH002L2","CH009L2","CH008L2","CH004L2","CH003L2","CH005L2","CH007L2"]},{"code":"SE","units":["SE503L1","SE003L1","SE002L1","SE505L1","SE006L1","SE502L1","SE007L1","SE001L1","SE005L1","SE004L1","SE008L1","SE501L1"]},{"code":"HR","units":["HR002L2","HR004L2","HR005L2","HR001L2","HR006L1","HR003L2","HR007L1"]},{"code":"PL","units":["PL002L2","PL005L2","PL042L1","PL516L2","PL044L1","PL020L2","PL007L2","PL046L1","PL013L2","PL008L2","PL018L2","PL012L2","PL028L2","PL047L1","PL512L2","PL506L2","PL026L2","PL010L2","PL041L1","PL022L2","PL043L1","PL038L1","PL030L1","PL033L1","PL040L1","PL051L1","PL015L2","PL037L1","PL048L1","PL016L2","PL049L1","PL034L1","PL039L1","PL001L2","PL003L2","PL004L2","PL024L2","PL011L2","PL019L2","PL021L2","PL031L1","PL032L1","PL017L2","PL027L2","PL513L2","PL517L2","PL009L2","PL514L2","PL045L1","PL036L1","PL029L1","PL014L2","PL052L1","PL511L2","PL035L1","PL025L2","PL508L1","PL006L2"]},{"code":"TR","units":["TR067L1","TR063L1","TR047L1","TR018L1","TR012L1","TR054L1","TR007L1","TR050L1","TR036L1","TR073L1","TR030L1","TR027L1","TR060L1","TR075L1","TR079L1","TR072L1","TR031L1","TR004L1","TR043L1","TR010L1","TR002L1","TR001L1","TR051L1","TR078L1","TR046L1","TR038L1","TR026L1","TR065L1","TR040L1","TR013L1","TR069L1","TR041L1","TR009L1","TR048L1","TR015L1","TR064L1","TR025L1","TR019L1","TR037L1","TR022L1","TR045L1","TR053L1","TR042L1","TR052L1","TR034L1","TR074L1","TR029L1","TR011L1","TR016L1","TR014L1","TR077L1","TR021L1","TR049L1","TR068L1","TR008L1","TR023L1","TR032L1","TR024L1","TR033L1","TR003L1","TR059L1","TR057L1","TR061L1","TR044L1","TR039L1","TR076L1","TR035L1","TR071L1","TR055L1","TR006L1","TR066L1","TR056L1","TR062L1","TR070L1","TR058L1","TR028L1"]},{"code":"FR","units":["FR010L2","FR505L1","FR014L2","FR060L2","FR084L2","FR057L2","FR079L2","FR052L2","FR044L2","FR066L2","FR025L2","FR039L1","FR012L2","FR046L2","FR304L1","FR069L2","FR093L2","FR086L2","FR050L2","FR519L1","FR021L2","FR020L2","FR099L2","FR018L2","FR074L2","FR049L2","FR203L2","FR053L2","FR082L2","FR008L2","FR059L2","FR037L2","FR062L2","FR208L1","FR058L2","FR016L2","FR214L1","FR051L2","FR104L2","FR026L2","FR009L2","FR001L1","FR013L2","FR027L2","FR043L2","FR011L2","FR034L2","FR205L2","FR090L2","FR024L2","FR042L2","FR076L2","FR065L2","FR032L2","FR068L2","FR040L2","FR077L2","FR022L2","FR007L2","FR045L2","FR038L2","FR064L2","FR207L2","FR073L2","FR019L2","FR324L1","FR036L2","FR048L2","FR063L2","FR023L2","FR006L2","FR004L2","FR506L1","FR035L2","FR067L2","FR061L2","FR017L2","FR215L2","FR056L2","FR047L0","FR209L2","FR096L2","FR003L2"]},{"code":"CZ","units":["CZ010L2","CZ005L2","CZ008L2","CZ004L2","CZ007L2","CZ003L2","CZ016L2","CZ002L2","CZ009L2","CZ006L2","CZ013L2","CZ001L2","CZ018L2","CZ014L2","CZ011L2"]},{"code":"RO","units":["RO512L1","RO507L1","RO015L1","RO509L1","RO003L1","RO504L1","RO513L1","RO011L1","RO505L1","RO503L1","RO510L1","RO006L1","RO508L1","RO511L1","RO002L1","RO021L1","RO020L1","RO005L1","RO016L1","RO001L1","RO010L1","RO014L1","RO501L1","RO009L1","RO018L1","RO013L1","RO502L1","RO019L1","RO008L1","RO017L1","RO007L1","RO004L1","RO012L1","RO506L1","RO022L1"]},{"code":"DE","units":["DE537L1","DE079L1","DE083L1","DE007L1","DE055L0","DE034L1","DE001L1","DE053L1","DE032L1","DE508L0","DE004L1","DE021L1","DE529L1","DE012L1","DE017L0","DE030L1","DE063L1","DE008L2","DE535L1","DE031L1","DE533L1","DE547L2","DE074L1","DE505L0","DE056L0","DE072L1","DE078L1","DE549L1","DE027L1","DE060L1","DE071L1","DE045L1","DE042L1","DE540L2","DE065L1","DE002L1","DE527L1","DE507L1","DE523L1","DE037L1","DE059L1","DE048L1","DE522L1","DE013L1","DE054L1","DE542L1","DE018L1","DE050L1","DE069L1","DE516L0","DE066L1","DE073L1","DE051L1","DE033L1","DE009L2","DE534L1","DE044L1","DE039L1","DE005L1","DE544L1","DE035L1","DE082L0","DE524L2","DE513L1","DE530L0","DE067L1","DE057L1","DE058L1","DE081L1","DE548L1","DE038L1","DE504L1","DE026L1","DE014L1","DE020L1","DE546L0","DE043L2","DE003L1","DE510L1","DE077L1","DE532L1","DE019L2","DE517L1","DE040L1","DE064L1","DE520L1","DE025L1","DE036L0","DE029L0","DE084L1","DE539L1","DE061L1","DE062L1","DE052L1","DE028L1","DE011L1"]},{"code":"NL","units":["NL026L0","NL006L3","NL513L3","NL507L3","NL522L3","NL003L3","NL015L3","NL002L3","NL514L3","NL512L3","NL529L3","NL520L3","NL503L3","NL014L3","NL028L3","NL504L3","NL012L3","NL001L3","NL505L3","NL020L3","NL018L3","NL004L3","NL030L0","NL016L3","NL007L3","NL519L3","NL013L3","NL010L3","NL515L3","NL032L3","NL524L3","NL008L3","NL511L3","NL005L3","NL009L3","NL521L3"]},{"code":"UK","units":["UK551L1","UK548L0","UK559L2","UK535L0","UK550L0","UK571L1","UK018L3","UK572L0","UK573L0","UK560L1","UK531L0","UK532L0","UK549L0","UK040L0","UK056L1","UK564L0","UK009L1","UK038L0","UK044L0","UK019L3","UK059L0","UK021L0","UK554L0","UK024L1","UK533L0","UK010L3","UK546L1","UK025L3","UK517L1","UK006L3","UK540L0","UK513L0","UK552L0","UK011L2","UK004L1","UK027L1","UK043L0","UK050L1","UK506L0","UK031L0","UK569L2","UK575L0","UK561L0","UK519L0","UK002L3","UK001L3","UK033L1","UK014L1","UK510L0","UK023L1","UK047L0","UK041L0","UK012L2","UK045L0","UK558L1","UK562L2","UK034L0","UK543L0","UK545L0","UK566L1","UK029L1","UK026L1","UK046L0","UK516L1","UK515L1","UK051L0","UK539L1","UK016L1","UK542L0","UK055L0","UK003L2","UK576L0","UK008L3","UK017L2","UK556L0","UK007L1","UK022L0","UK557L1","UK053L0","UK520L2","UK054L0","UK528L1","UK013L2","UK553L1","UK525L0","UK568L1","UK518L1"]},{"code":"ES","units":["ES057L1","ES514L1","ES008L2","ES505L1","ES065L0","ES013L2","ES011L2","ES501L3","ES046L1","ES537L1","ES547L1","ES519L1","ES040L1","ES054L1","ES037L0","ES017L2","ES018L2","ES003L3","ES035L1","ES010L2","ES012L2","ES073L0","ES050L1","ES543L1","ES521L1","ES529L1","ES506L1","ES009L2","ES001L3","ES023L2","ES552L1","ES070L1","ES542L1","ES516L1","ES522L1","ES048L1","ES062L0","ES034L1","ES014L3","ES074L0","ES044L1","ES007L2","ES538L1","ES059L1","ES033L1","ES043L1","ES028L1","ES508L1","ES527L1","ES525L1","ES520L1","ES544L1","ES072L1","ES528L1","ES015L2","ES053L1","ES546L1","ES041L1","ES510L1","ES006L2","ES523L1","ES021L2","ES022L2","ES020L2","ES005L2","ES045L0","ES019L3","ES515L1","ES533L1","ES026L2","ES545L1","ES004L3","ES002L2","ES016L2","ES025L3","ES532L1","ES055L0","ES031L1","ES039L1","ES550L1"]},{"code":"HU","units":["HU001L2","HU014L1","HU007L2","HU009L2","HU005L2","HU018L1","HU013L1","HU006L2","HU002L2","HU011L1","HU004L2","HU008L2","HU019L1","HU016L1","HU010L1","HU012L1","HU003L2","HU017L1","HU015L1"]},{"code":"PT","units":["PT003L1","PT505L1","PT016L0","PT001L3","PT008L2","PT004L2","PT002L2","PT019L0","PT014L1","PT009L1","PT007L1","PT005L2"]},{"code":"IT","units":["IT503L3","IT034L1","IT040L2","IT039L2","IT508L3","IT069L1","IT513L3","IT524L0","IT037L1","IT027L2","IT042L1","IT520L1","IT025L3","IT054L1","IT015L1","IT007L3","IT515L2","IT519L1","IT058L2","IT504L3","IT064L1","IT045L2","IT065L0","IT021L2","IT030L3","IT057L2","IT011L2","IT001L3","IT048L2","IT518L1","IT041L2","IT009L1","IT516L2","IT506L2","IT013L3","IT035L2","IT038L1","IT067L0","IT022L2","IT002L3","IT505L3","IT026L3","IT019L2","IT502L2","IT043L2","IT012L3","IT008L3","IT036L2","IT061L0","IT004L2","IT047L1","IT525L0","IT020L3","IT509L3","IT017L3","IT033L2","IT023L2","IT073L1","IT514L2","IT052L1","IT507L2","IT522L1","IT016L3","IT523L1","IT526L1","IT029L3","IT046L2","IT028L3","IT005L3","IT511L2","IT501L2","IT060L1","IT024L3","IT521L1","IT031L3","IT006L3","IT032L3","IT068L1","IT010L2","IT056L1","IT014L3","IT003L3","IT066L1","IT512L3"]},{"code":"BG","units":["BG016L1","BG007L2","BG004L2","BG005L1","BG009L1","BG006L2","BG001L2","BG008L2","BG014L1","BG013L1","BG003L2","BG015L1","BG002L2","BG010L1","BG018L1","BG017L1","BG011L1"]},{"code":"IE","units":["IE004L1","IE002L1","IE005L1","IE003L1","IE001L1"]},{"code":"DK","units":["DK002L3","DK003L2","DK001L2","DK004L3"]},{"code":"AT","units":["AT004L3","AT006L2","AT001L3","AT005L3","AT003L3","AT002L3"]},{"code":"BE","units":["BE008L1","BE001L2","BE009L1","BE010L1","BE005L2","BE003L2","BE002L2","BE004L2","BE007L2","BE011L1","BE006L2"]},{"code":"EL","units":["EL001L1","EL007L1","EL008L1","EL009L1","EL005L1","EL003L1","EL004L1","EL002L1","EL006L1"]},{"code":"FI","units":["FI008L2","FI004L4","FI001L3","FI007L2","FI003L4","FI002L3","FI009L2"]},{"code":"SK","units":["SK002L1","SK005L1","SK004L1","SK008L1","SK003L1","SK006L1","SK001L1","SK007L1"]},{"code":"SI","units":["SI002L1","SI001L2"]},{"code":"LT","units":["LT003L1","LT501L0","LT004L0","LT001L1","LT002L1","LT502L0"]},{"code":"CY","units":["CY501L2","CY001L2"]},{"code":"NO","units":["NO004L1","NO002L1","NO003L1","NO001L1","NO005L1","NO006L1"]},{"code":"LV","units":["LV501L1","LV002L2","LV003L1","LV001L1"]},{"code":"LU","units":["LU001L1"]},{"code":"IS","units":["IS001L1"]},{"code":"EE","units":["EE001L1","EE003L0","EE002L1"]},{"code":"MT","units":["MT001L1"]}];

class AreasFilter extends React.PureComponent {

	static propTypes = {
		activeFilter: PropTypes.object,
		onClear: PropTypes.func,
		onSelect: PropTypes.func
	};

	constructor(props) {
		super(props);

		this.state = {
			value: null
		};

		this.onCountrySelect = this.onCountrySelect.bind(this);
		this.onFilterClear = this.onFilterClear.bind(this);
	}

	onCountrySelect(record) {
		if (record) {
			if (this.props.onSelect) {
				this.props.onSelect(record.code, record.units);
			}
			this.setState({value: record});
		} else {
			this.onFilterClear();
		}
	}

	onFilterClear() {
		if (this.props.onClear) {
			this.props.onClear();
		}
		this.setState({value: null});
	}

	componentDidUpdate(prevProps, prevState, snapshot) {
		if (!this.props.activeFilter) {
			this.setState({value: null});
		}
	}

	render() {
		return (
			<div className="esponFuore-areas-filter">
				<div className="esponFuore-areas-filter-attribute">
					<span>Select country</span>
					<Select
						clearable
						onChange={this.onCountrySelect}
						options={options}
						optionLabel="code"
						optionValue="code"
						value={this.state.value}
					/>
				</div>

				<div className="esponFuore-areas-filter-buttons">
					<Button
						icon="times"
						disabled={!this.props.activeFilter}
						onClick={this.onFilterClear}
					>
						Clear filter
					</Button>
				</div>
			</div>
		);
	}
}

export default AreasFilter;
